(this.webpackJsonpledger=this.webpackJsonpledger||[]).push([[0],{63:function(e,t,n){e.exports=n(77)},68:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),l=n.n(c),i=(n(68),n(28)),o=n(48),u=n(19),d=n.n(u),s=n(49),f=n(12),m=n(57),b=n(50),v=n(23),p=n(86),y=n(90),h=["deposit","withdrawal"],g=["all","deposit","withdrawal"],E=Object(v.a)([function(e){return e.transactions}],(function(e){return Object.values(e).sort((function(e,t){return e.date>t.date?-1:1}))})),j=Object(v.a)([E,function(e){return e.transactionFilter}],(function(e,t){return"all"===t?e:e.filter((function(e){return e.type===t}))})),O=Object(v.a)([E],(function(e){return e.reduce((function(e,t){return e+("withdrawal"===t.type?-t.value:t.value)}),0)})),x=Object(v.a)([function(e){return e.overdraft}],(function(e){return e})),w=Object(v.a)([j],(function(e){return new Array(14).fill(null).map((function(t,n){var a=Object(p.a)(0===n?new Date:Object(y.a)(new Date,n),"yyyy MM dd");return{group:a,total:e.filter((function(e){var t=e.date;return Object(p.a)(new Date(t),"yyyy MM dd")===a})).reduce((function(e,t){var n=t.value;return e+("withdrawal"===t.type?-n:n)}),0)}})).reverse()})),k=n(32),C=n(22),D=n(89),F=d.a.mark(S),M=d.a.mark(T);function S(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("add transaction form submitted",T);case 2:case"end":return e.stop()}}),F)}function T(e){var t,n,a,r;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(C.c)(O);case 3:return n=c.sent,c.next=6,Object(C.c)(x);case 6:if(a=c.sent,!("withdrawal"===(r=t.transaction).type&&n-r.value<-a)){c.next=15;break}return c.next=11,Object(C.b)({type:"transaction rejected (saga)",payload:{reason:"Overdraft exceeded."}});case 11:return c.next=13,Object(C.a)(alert,"Transaction failed. Overdraft would be exceeded!");case 13:c.next=17;break;case 15:return c.next=17,Object(C.b)({type:"transaction confirmed (saga)",payload:{transaction:Object(k.a)({},r,{id:Object(D.a)()})}});case 17:case"end":return c.stop()}}),M)}var A=n(42),B=n(51),I=n.n(B),z=Object(m.a)(),V=Object(A.a)({key:"root",storage:I.a},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{overdraft:250,transactions:{},transactionFilter:"all"},t=arguments.length>1?arguments[1]:void 0;return Object(b.a)(e,(function(e){switch(t.type){case"transaction clicked in list":delete e.transactions[t.payload.transaction.id];break;case"transaction filter changed":e.transactionFilter=t.payload;break;case"transaction confirmed (saga)":e.transactions[t.payload.transaction.id]=t.payload.transaction}}))})),G=Object(f.e)(V,Object(f.a)(z)),J=Object(A.b)(G),R=i.c,W=i.b;function Y(){return(Y=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.run(S);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Y.apply(this,arguments)}();var K=n(13),N=n(36),q=n(33),H=n(58);function L(e){var t=e.value,n=e.checked,a=e.label,c=e.onClick,l="".concat(Object(D.a)(),"-").concat(t);return r.a.createElement("div",{style:{flexDirection:"row",justifyContent:"center"}},r.a.createElement("div",{style:{padding:5,flexDirection:"row",alignItems:"center"}},r.a.createElement("label",{htmlFor:l,style:{paddingRight:5}},a),r.a.createElement("input",{id:l,type:"radio",checked:n,onChange:function(){c(t)}})))}var P="#7346fe",Q="#67e2cd",U="#414141",X="black",Z=10,$=n(9),_=n(10);function ee(){var e=Object($.a)(["\n  flex: 0 0 ","px;\n"]);return ee=function(){return e},e}function te(){var e=Object($.a)(["\n  align-items: center;\n  justify-content: center;\n"]);return te=function(){return e},e}function ne(){var e=Object($.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1 1 100%;\n"]);return ne=function(){return e},e}var ae=_.a.div(ne()),re=Object(_.a)(ae)(te()),ce=_.a.div(ee(),Z);function le(){var e=Object($.a)(["\n  opacity: ",";\n  font-style: ",";\n  text-shadow: ",";\n  color: ",";\n  font-size: ",";\n"]);return le=function(){return e},e}var ie=_.a.span(le(),(function(e){return"subtle"===e.level?.8:1}),(function(e){return"subtle"===e.level?"italic":"normal"}),(function(e){return"heading"===e.level?"0px 5px 3px #eaeaea":"none"}),(function(e){var t=e.level;return ue(t)}),(function(e){var t=e.level;return oe(t)})),oe=function(e){switch(e){case"heading":return"3rem";case"subheading":return"1.5rem";case"subtle":case"normal":return"1rem"}},ue=function(e){switch(e){case"heading":return P;case"subheading":return U;case"normal":return X;case"subtle":return U}},de=n(87);function se(){var e=Object($.a)(["\n  align-self: flex-end;\n"]);return se=function(){return e},e}function fe(){var e=Object($.a)(["\n  align-items: flex-start;\n  padding: ","px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n"]);return fe=function(){return e},e}function me(e){var t=e.transaction,n=e.onClick;return a.createElement(be,{onClick:function(){n(t)}},a.createElement(ve,{level:"subtle"},Object(de.a)(new Date(t.date),{addSuffix:!0})),a.createElement("div",{style:{flexDirection:"row"}},a.createElement(ie,{level:"normal"},"\xa3",t.value.toFixed(2)),a.createElement(ce,null),a.createElement(ie,{level:"normal"},t.type)))}var be=Object(_.a)(re)(fe(),Z),ve=Object(_.a)(ie)(se());function pe(e){var t=e.transactionClicked,n=Object(q.a)({polyfill:N.a}),a=Object(K.a)(n,2),c=a[0],l=a[1],i=l.width,o=l.height,u=R(j);return r.a.createElement(re,null,r.a.createElement(ye,null),r.a.createElement(ce,null),r.a.createElement(re,{ref:c,style:{flex:1,height:"100%",width:"100%",overflow:"hidden"}},u.length?r.a.createElement(H.a,{itemCount:u.length,itemSize:100,width:i,height:o},(function(e){var n=e.style,a=e.index;return r.a.createElement("div",{key:u[a].id,style:Object(k.a)({},n,{width:"100%",borderBottomColor:P,borderBottomWidth:5})},r.a.createElement(me,{onClick:function(){t(u[a])},transaction:u[a]}))})):r.a.createElement(ie,{level:"subtle"},"No Transactions.")))}function ye(){var e=W(),t=R((function(e){return e.transactionFilter}));return r.a.createElement("div",{style:{flexDirection:"row",justifyContent:"center"}},g.map((function(n){return r.a.createElement(L,{key:n,value:n,label:n,checked:t===n,onClick:function(){e({type:"transaction filter changed",payload:n})}})})))}var he=n(17);function ge(){var e=Object($.a)(["\n  align-items: center;\n  padding-top: 20px;\n"]);return ge=function(){return e},e}function Ee(){var e=R(O),t=Object(he.b)({from:{balanceSpring:0},balanceSpring:e,config:{clamp:!0}}).balanceSpring;return a.createElement(je,null,a.createElement(ie,{level:"heading"},"\xa3",a.createElement(he.a.span,null,t.interpolate((function(e){return e.toFixed(0)})))),a.createElement(ie,{level:"subheading"},e>4e3?"Good job saving!":e<0?"You're using your overdraft!":"Keep it up!"))}var je=_.a.div(ge());function Oe(){var e=Object($.a)(["\n  align-items: center;\n  padding-top: 20px;\n"]);return Oe=function(){return e},e}function xe(){var e=R(x);return a.createElement(we,null,a.createElement(ie,{level:"subtle"},"Agreed Overdaft \xa3",e))}var we=_.a.div(Oe()),ke=n(85),Ce=n(88),De=n(83),Fe=n(82),Me=r.a.memo((function(e){var t=e.data,n=Object(q.a)({polyfill:N.a}),a=Object(K.a)(n,2),c=a[0],l=a[1],i=l.width,o=l.height,u=Object(ke.a)().range([0,i]).domain([0,t.length-1]),d=Object(ke.a)().range([o-5,5]).domain(Object(Fe.a)(t,(function(e){return e.value}))),s=Object(Ce.a)().x((function(e){return u(e.step)})).x1((function(e){return u(e.step)})).y(o).y1((function(e){return d(e.value)})).curve(De.a),f=Object(he.b)({d:s(t)}).d;return r.a.createElement(ae,{ref:c},r.a.createElement("svg",{width:i,height:o,viewBox:"0 0 ".concat(i," ").concat(o)},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0",y2:"100%"},r.a.createElement("stop",{offset:"0%",stopColor:Q}),r.a.createElement("stop",{offset:"100%",stopColor:P}))),r.a.createElement(he.a.path,{fill:"url(#gradient)",d:f}),r.a.createElement("line",{stroke:"#8c8c8c",strokeWidth:3,x1:0,x2:i,y1:d(0),y2:d(0)})))}));function Se(){var e=R((function(e){return w(e).map((function(e,t){return{step:t,value:e.total}}))}));return r.a.createElement(re,null,r.a.createElement(Me,{data:e}),r.a.createElement(ie,{level:"subtle"},"14 day history"))}var Te=n(29),Ae=n(84);function Be(){var e=Object($.a)(["\n  background: linear-gradient(15deg, ",", ",");\n  padding: 10px 15px;\n  border: none;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 1rem;\n  color: white;\n"]);return Be=function(){return e},e}var Ie=_.a.button(Be(),P,Q),ze={type:"deposit",value:0,date:Object(p.a)(Object(Ae.a)(new Date),"yyyy-MM-dd'T'hh:mm")};function Ve(){var e=a.useReducer((function(e){return!e}),!1),t=Object(K.a)(e,2),n=t[0],r=t[1],c=W(),l=Object(he.b)({y:n?"calc(0% - 0px)":"calc(100% - ".concat(50,"px)")}).y;return a.createElement(he.a.div,{style:{position:"fixed",bottom:0,flex:0,width:"100%",justifyContent:"center",background:"rgba(0,0,0,0.1)",backdropFilter:"blur(10px)",transform:l.interpolate((function(e){return"translateY(".concat(e,")")}))}},a.createElement("div",{onClick:function(){r()},style:{background:"rgba(0,0,0,0.5)",width:"100%",height:50,alignItems:"center",justifyContent:"center",color:"white"}},n?"Close":"Add Transaction"),a.createElement("div",{style:{padding:Z}},a.createElement(ie,{level:"subheading"},"Add Transaction"),a.createElement(Te.b,{initialValues:ze,onSubmit:function(e){c({type:"add transaction form submitted",payload:{transaction:e}})}},(function(e){var t=e.values,n=e.handleSubmit;return a.createElement("div",null,a.createElement(Je,null),a.createElement(ce,null),a.createElement(Ge,null),a.createElement(ce,null),a.createElement("div",{style:{alignItems:"center"}},a.createElement(ie,{level:"subtle"},"\xa3",t.value),a.createElement(Te.a,{style:{flex:1,width:"100%"},name:"value",type:"range",min:0,max:1e4})),a.createElement(ce,null),a.createElement(Ie,{onClick:function(){n()}},"Add"))}))))}function Ge(){var e=Object(Te.c)({name:"date"}),t=Object(K.a)(e,3),n=t[0],r=t[2];return a.createElement("input",{type:"datetime-local",value:n.value,max:Object(p.a)(new Date,"yyyy-MM-dd'T'hh:mm"),onChange:function(e){r.setValue(e.target.value)}})}function Je(){var e=Object(Te.c)({name:"type"}),t=Object(K.a)(e,3),n=t[0],r=t[2];return a.createElement("div",{style:{display:"flex",flexDirection:"row"}},h.map((function(e){return a.createElement(L,{value:e,label:e,key:e,checked:e===n.value,onClick:function(){r.setValue(e)}})})))}function Re(){var e=W();return a.createElement(ae,null,a.createElement(xe,null),a.createElement(Ee,null),a.createElement("div",{style:{width:"100%",flex:"0 0 10%"}},a.createElement(Se,null)),a.createElement(pe,{transactionClicked:function(t){e({type:"transaction clicked in list",payload:{transaction:t}})}}),a.createElement(Ve,null))}var We=function(){return r.a.createElement(i.a,{store:G},r.a.createElement(o.a,{loading:null,persistor:J},r.a.createElement(Re,null)))};l.a.render(r.a.createElement(We,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.5613cf4b.chunk.js.map