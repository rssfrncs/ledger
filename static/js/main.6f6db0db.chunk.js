(this.webpackJsonpledger=this.webpackJsonpledger||[]).push([[0],{62:function(e,t,n){e.exports=n(76)},67:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),l=n.n(c),i=(n(67),n(28)),o=n(47),u=n(19),d=n.n(u),s=n(48),f=n(12),m=n(56),b=n(49),v=n(23),p=n(85),y=n(89),h=["deposit","withdrawal"],g=["all","deposit","withdrawal"],E=Object(v.a)([function(e){return e.transactions}],(function(e){return Object.values(e).sort((function(e,t){return e.date>t.date?-1:1}))})),j=Object(v.a)([E,function(e){return e.transactionFilter}],(function(e,t){return"all"===t?e:e.filter((function(e){return e.type===t}))})),O=Object(v.a)([E],(function(e){return e.reduce((function(e,t){return e+("withdrawal"===t.type?-t.value:t.value)}),0)})),x=Object(v.a)([function(e){return e.overdraft}],(function(e){return e})),w=Object(v.a)([j],(function(e){return new Array(14).fill(null).map((function(t,n){var a=Object(p.a)(0===n?new Date:Object(y.a)(new Date,n),"yyyy MM dd");return{group:a,total:e.filter((function(e){var t=e.date;return Object(p.a)(new Date(t),"yyyy MM dd")===a})).reduce((function(e,t){var n=t.value;return e+("withdrawal"===t.type?-n:n)}),0)}})).reverse()})),k=n(32),C=n(22),D=n(88),F=d.a.mark(S),M=d.a.mark(T);function S(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("add transaction form submitted",T);case 2:case"end":return e.stop()}}),F)}function T(e){var t,n,a,r;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(C.c)(O);case 3:return n=c.sent,c.next=6,Object(C.c)(x);case 6:if(a=c.sent,!("withdrawal"===(r=t.transaction).type&&n-r.value<-a)){c.next=15;break}return c.next=11,Object(C.b)({type:"transaction rejected (saga)",payload:{reason:"Overdraft exceeded."}});case 11:return c.next=13,Object(C.a)(alert,"Transaction failed. Overdraft would be exceeded!");case 13:c.next=17;break;case 15:return c.next=17,Object(C.b)({type:"transaction confirmed (saga)",payload:{transaction:Object(k.a)({},r,{id:Object(D.a)()})}});case 17:case"end":return c.stop()}}),M)}var A=n(41),B=n(50),I=n.n(B),z=Object(m.a)(),V=Object(A.a)({key:"root",storage:I.a},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{overdraft:250,transactions:{},transactionFilter:"all"},t=arguments.length>1?arguments[1]:void 0;return Object(b.a)(e,(function(e){switch(t.type){case"transaction clicked in list":delete e.transactions[t.payload.transaction.id];break;case"transaction filter changed":e.transactionFilter=t.payload;break;case"transaction confirmed (saga)":e.transactions[t.payload.transaction.id]=t.payload.transaction}}))})),G=Object(f.e)(V,Object(f.a)(z)),J=Object(A.b)(G),R=i.c,W=i.b;function Y(){return(Y=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.run(S);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Y.apply(this,arguments)}();var K=n(13),N=n(33),q=n(57);function H(e){var t=e.value,n=e.checked,a=e.label,c=e.onClick,l="".concat(Object(D.a)(),"-").concat(t);return r.a.createElement("div",{style:{flexDirection:"row",justifyContent:"center"}},r.a.createElement("div",{style:{padding:5,flexDirection:"row",alignItems:"center"}},r.a.createElement("label",{htmlFor:l,style:{paddingRight:5}},a),r.a.createElement("input",{id:l,type:"radio",checked:n,onChange:function(){c(t)}})))}var L="#7346fe",P="#67e2cd",Q="#414141",U="black",X=10,Z=n(9),$=n(10);function _(){var e=Object(Z.a)(["\n  flex: 0 0 ","px;\n"]);return _=function(){return e},e}function ee(){var e=Object(Z.a)(["\n  align-items: center;\n  justify-content: center;\n"]);return ee=function(){return e},e}function te(){var e=Object(Z.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1 1 100%;\n"]);return te=function(){return e},e}var ne=$.a.div(te()),ae=Object($.a)(ne)(ee()),re=$.a.div(_(),X);function ce(){var e=Object(Z.a)(["\n  opacity: ",";\n  font-style: ",";\n  text-shadow: ",";\n  color: ",";\n  font-size: ",";\n"]);return ce=function(){return e},e}var le=$.a.span(ce(),(function(e){return"subtle"===e.level?.8:1}),(function(e){return"subtle"===e.level?"italic":"normal"}),(function(e){return"heading"===e.level?"0px 5px 3px #eaeaea":"none"}),(function(e){var t=e.level;return oe(t)}),(function(e){var t=e.level;return ie(t)})),ie=function(e){switch(e){case"heading":return"3rem";case"subheading":return"1.5rem";case"subtle":case"normal":return"1rem"}},oe=function(e){switch(e){case"heading":return L;case"subheading":return Q;case"normal":return U;case"subtle":return Q}},ue=n(86);function de(){var e=Object(Z.a)(["\n  align-self: flex-end;\n"]);return de=function(){return e},e}function se(){var e=Object(Z.a)(["\n  align-items: flex-start;\n  padding: ","px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n"]);return se=function(){return e},e}function fe(e){var t=e.transaction,n=e.onClick;return a.createElement(me,{onClick:function(){n(t)}},a.createElement(be,{level:"subtle"},Object(ue.a)(new Date(t.date),{addSuffix:!0})),a.createElement("div",{style:{flexDirection:"row"}},a.createElement(le,{level:"normal"},"\xa3",t.value.toFixed(2)),a.createElement(re,null),a.createElement(le,{level:"normal"},t.type)))}var me=Object($.a)(ae)(se(),X),be=Object($.a)(le)(de());function ve(e){var t=e.transactionClicked,n=Object(N.a)(),a=Object(K.a)(n,2),c=a[0],l=a[1],i=l.width,o=l.height,u=R(E);return r.a.createElement(ae,null,r.a.createElement(pe,null),r.a.createElement(re,null),r.a.createElement(ae,{ref:c,style:{flex:1,height:"100%",width:"100%",overflow:"hidden"}},u.length?r.a.createElement(q.a,{itemCount:u.length,itemSize:100,width:i,height:o},(function(e){var n=e.style,a=e.index;return r.a.createElement("div",{key:u[a].id,style:Object(k.a)({},n,{width:"100%",borderBottomColor:L,borderBottomWidth:5})},r.a.createElement(fe,{onClick:function(){t(u[a])},transaction:u[a]}))})):r.a.createElement(le,{level:"subtle"},"No Transactions.")))}function pe(){var e=W(),t=R((function(e){return e.transactionFilter}));return r.a.createElement("div",{style:{flexDirection:"row",justifyContent:"center"}},g.map((function(n){return r.a.createElement(H,{key:n,value:n,label:n,checked:t===n,onClick:function(){e({type:"transaction filter changed",payload:n})}})})))}var ye=n(17);function he(){var e=Object(Z.a)(["\n  align-items: center;\n  padding-top: 20px;\n"]);return he=function(){return e},e}function ge(){var e=R(O),t=Object(ye.b)({from:{balanceSpring:0},balanceSpring:e,config:{clamp:!0}}).balanceSpring;return a.createElement(Ee,null,a.createElement(le,{level:"heading"},"\xa3",a.createElement(ye.a.span,null,t.interpolate((function(e){return e.toFixed(0)})))),a.createElement(le,{level:"subheading"},e>4e3?"Good job saving!":e<0?"You're using your overdraft!":"Keep it up!"))}var Ee=$.a.div(he());function je(){var e=Object(Z.a)(["\n  align-items: center;\n  padding-top: 20px;\n"]);return je=function(){return e},e}function Oe(){var e=R(x);return a.createElement(xe,null,a.createElement(le,{level:"subtle"},"Agreed Overdaft \xa3",e))}var xe=$.a.div(je()),we=n(84),ke=n(87),Ce=n(82),De=n(81),Fe=r.a.memo((function(e){var t=e.data,n=Object(N.a)({}),a=Object(K.a)(n,2),c=a[0],l=a[1],i=l.width,o=l.height,u=Object(we.a)().range([0,i]).domain([0,t.length-1]),d=Object(we.a)().range([o-5,5]).domain(Object(De.a)(t,(function(e){return e.value}))),s=Object(ke.a)().x((function(e){return u(e.step)})).x1((function(e){return u(e.step)})).y(o).y1((function(e){return d(e.value)})).curve(Ce.a),f=Object(ye.b)({d:s(t)}).d;return r.a.createElement(ne,{ref:c},r.a.createElement("svg",{width:i,height:o,viewBox:"0 0 ".concat(i," ").concat(o)},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0",y2:"100%"},r.a.createElement("stop",{offset:"0%",stopColor:P}),r.a.createElement("stop",{offset:"100%",stopColor:L}))),r.a.createElement(ye.a.path,{fill:"url(#gradient)",d:f}),r.a.createElement("line",{stroke:"#8c8c8c",strokeWidth:3,x1:0,x2:i,y1:d(0),y2:d(0)})))}));function Me(){var e=R((function(e){return w(e).map((function(e,t){return{step:t,value:e.total}}))}));return r.a.createElement(ae,null,r.a.createElement(Fe,{data:e}),r.a.createElement(le,{level:"subtle"},"14 day history"))}var Se=n(29),Te=n(83);function Ae(){var e=Object(Z.a)(["\n  background: linear-gradient(15deg, ",", ",");\n  padding: 10px 15px;\n  border: none;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 1rem;\n  color: white;\n"]);return Ae=function(){return e},e}var Be=$.a.button(Ae(),L,P),Ie={type:"deposit",value:0,date:Object(p.a)(Object(Te.a)(new Date),"yyyy-MM-dd'T'hh:mm")};function ze(){var e=a.useReducer((function(e){return!e}),!1),t=Object(K.a)(e,2),n=t[0],r=t[1],c=W(),l=Object(ye.b)({y:n?"calc(0% - 0px)":"calc(100% - ".concat(50,"px)")}).y;return a.createElement(ye.a.div,{style:{position:"fixed",bottom:0,flex:0,width:"100%",justifyContent:"center",background:"rgba(0,0,0,0.1)",backdropFilter:"blur(10px)",transform:l.interpolate((function(e){return"translateY(".concat(e,")")}))}},a.createElement("div",{onClick:function(){r()},style:{background:"rgba(0,0,0,0.5)",width:"100%",height:50,alignItems:"center",justifyContent:"center",color:"white"}},n?"Close":"Add Transaction"),a.createElement("div",{style:{padding:X}},a.createElement(le,{level:"subheading"},"Add Transaction"),a.createElement(Se.b,{initialValues:Ie,onSubmit:function(e){c({type:"add transaction form submitted",payload:{transaction:e}})}},(function(e){var t=e.values,n=e.handleSubmit;return a.createElement("div",null,a.createElement(Ge,null),a.createElement(re,null),a.createElement(Ve,null),a.createElement(re,null),a.createElement("div",{style:{alignItems:"center"}},a.createElement(le,{level:"subtle"},"\xa3",t.value),a.createElement(Se.a,{style:{flex:1,width:"100%"},name:"value",type:"range",min:0,max:1e4})),a.createElement(re,null),a.createElement(Be,{onClick:function(){n()}},"Add"))}))))}function Ve(){var e=Object(Se.c)({name:"date"}),t=Object(K.a)(e,3),n=t[0],r=t[2];return a.createElement("input",{type:"datetime-local",value:n.value,max:Object(p.a)(new Date,"yyyy-MM-dd'T'hh:mm"),onChange:function(e){r.setValue(e.target.value)}})}function Ge(){var e=Object(Se.c)({name:"type"}),t=Object(K.a)(e,3),n=t[0],r=t[2];return a.createElement("div",{style:{display:"flex",flexDirection:"row"}},h.map((function(e){return a.createElement(H,{value:e,label:e,key:e,checked:e===n.value,onClick:function(){r.setValue(e)}})})))}function Je(){var e=W();return a.createElement(ne,null,a.createElement(Oe,null),a.createElement(ge,null),a.createElement("div",{style:{width:"100%",flex:"0 0 10%"}},a.createElement(Me,null)),a.createElement(ve,{transactionClicked:function(t){e({type:"transaction clicked in list",payload:{transaction:t}})}}),a.createElement(ze,null))}var Re=function(){return r.a.createElement(i.a,{store:G},r.a.createElement(o.a,{loading:null,persistor:J},r.a.createElement(Je,null)))};l.a.render(r.a.createElement(Re,null),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.6f6db0db.chunk.js.map